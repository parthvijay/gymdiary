# GymDiary

GymDiary is a Next.js workout tracking app where authenticated users can:

- Create workouts by date
- Add exercises to each workout
- Log sets with reps and weight
- Edit and delete existing workouts

## Tech Stack

- Next.js (App Router) + React + TypeScript
- Clerk for authentication
- Drizzle ORM + Neon/Postgres
- Tailwind CSS + shadcn/ui
- Vitest + Testing Library (test tooling configured)

## Project Structure

- `src/app/` - routes, pages, server actions, and forms
- `src/data/` - data access and business logic
- `src/db/` - Drizzle schema and database client
- `drizzle/` - SQL migrations generated by Drizzle Kit

## Prerequisites

- Node.js 20+
- npm
- A Postgres-compatible database (Neon recommended)
- Clerk app credentials

## Environment Variables

Create a `.env` file in the project root with:

```env
DATABASE_URL=postgresql://...
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_...
CLERK_SECRET_KEY=sk_...
```

If your Clerk setup requires additional keys (for example sign-in/sign-up URLs), add those from your Clerk dashboard.

## Install and Run

```bash
npm install
npm run dev
```

App runs at `http://localhost:3000`.

## Database Workflow (Drizzle)

Generate a migration after schema changes:

```bash
npx drizzle-kit generate
```

Apply migrations to your database:

```bash
npx drizzle-kit migrate
```

Current schema lives in `src/db/schema.ts`.

## Available Scripts

- `npm run dev` - start development server
- `npm run build` - production build
- `npm run start` - run production build locally
- `npm run lint` - run ESLint
- `npm run format` - format code with Prettier
- `npm run format:check` - check formatting without writing changes

## Testing

Vitest and Testing Library are already installed and configured (`vitest.config.ts`, `vitest.setup.ts`).

Run tests directly:

```bash
npx vitest run
```

Run in watch mode:

```bash
npx vitest
```
